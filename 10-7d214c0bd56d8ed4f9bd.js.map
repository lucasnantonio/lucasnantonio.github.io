{"version":3,"sources":["webpack:///./node_modules/object-fit-images/dist/ofi.common-js.js"],"names":["__webpack_require__","OFI","propRegex","testImg","Image","style","object-position","supportsObjectFit","supportsObjectPosition","supportsOFI","supportsCurrentSrc","currentSrc","nativeGetAttribute","getAttribute","nativeSetAttribute","setAttribute","autoModeEnabled","setPlaceholder","img","width","height","placeholder","call","onImageReady","callback","naturalWidth","setTimeout","fixOne","el","parsed","getComputedStyle","fontFamily","props","exec","getStyle","ofi","skipTest","srcset","src","naturalHeight","descriptors","get","prop","set","value","Object","defineProperty","ss","keepSrcUsable","err","window","console","warn","picturefill","pf","_","ns","evaled","fillImg","reselect","curSrc","supported","polyfillCurrentSrc","backgroundImage","replace","backgroundPosition","backgroundRepeat","backgroundOrigin","test","backgroundSize","fix","imgs","opts","startAutoMode","document","getElementsByTagName","querySelectorAll","i","length","body","addEventListener","e","target","tagName","watchMQ","bind","getOfiImageMaybe","name","HTMLImageElement","prototype","this","String","hijackAttributes","module","exports"],"mappings":"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","file":"10-7d214c0bd56d8ed4f9bd.js","sourcesContent":["/*! npm.im/object-fit-images 3.2.4 */\n'use strict';\n\nrequire(\"core-js/modules/es6.regexp.replace\");\n\nvar OFI = 'bfred-it:object-fit-images';\nvar propRegex = /(object-fit|object-position)\\s*:\\s*([-.\\w\\s%]+)/g;\nvar testImg = typeof Image === 'undefined' ? {\n  style: {\n    'object-position': 1\n  }\n} : new Image();\nvar supportsObjectFit = 'object-fit' in testImg.style;\nvar supportsObjectPosition = 'object-position' in testImg.style;\nvar supportsOFI = 'background-size' in testImg.style;\nvar supportsCurrentSrc = typeof testImg.currentSrc === 'string';\nvar nativeGetAttribute = testImg.getAttribute;\nvar nativeSetAttribute = testImg.setAttribute;\nvar autoModeEnabled = false;\n\nfunction createPlaceholder(w, h) {\n  return \"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='\" + w + \"' height='\" + h + \"'%3E%3C/svg%3E\";\n}\n\nfunction polyfillCurrentSrc(el) {\n  if (el.srcset && !supportsCurrentSrc && window.picturefill) {\n    var pf = window.picturefill._; // parse srcset with picturefill where currentSrc isn't available\n\n    if (!el[pf.ns] || !el[pf.ns].evaled) {\n      // force synchronous srcset parsing\n      pf.fillImg(el, {\n        reselect: true\n      });\n    }\n\n    if (!el[pf.ns].curSrc) {\n      // force picturefill to parse srcset\n      el[pf.ns].supported = false;\n      pf.fillImg(el, {\n        reselect: true\n      });\n    } // retrieve parsed currentSrc, if any\n\n\n    el.currentSrc = el[pf.ns].curSrc || el.src;\n  }\n}\n\nfunction getStyle(el) {\n  var style = getComputedStyle(el).fontFamily;\n  var parsed;\n  var props = {};\n\n  while ((parsed = propRegex.exec(style)) !== null) {\n    props[parsed[1]] = parsed[2];\n  }\n\n  return props;\n}\n\nfunction setPlaceholder(img, width, height) {\n  // Default: fill width, no height\n  var placeholder = createPlaceholder(width || 1, height || 0); // Only set placeholder if it's different\n\n  if (nativeGetAttribute.call(img, 'src') !== placeholder) {\n    nativeSetAttribute.call(img, 'src', placeholder);\n  }\n}\n\nfunction onImageReady(img, callback) {\n  // naturalWidth is only available when the image headers are loaded,\n  // this loop will poll it every 100ms.\n  if (img.naturalWidth) {\n    callback(img);\n  } else {\n    setTimeout(onImageReady, 100, img, callback);\n  }\n}\n\nfunction fixOne(el) {\n  var style = getStyle(el);\n  var ofi = el[OFI];\n  style['object-fit'] = style['object-fit'] || 'fill'; // default value\n  // Avoid running where unnecessary, unless OFI had already done its deed\n\n  if (!ofi.img) {\n    // fill is the default behavior so no action is necessary\n    if (style['object-fit'] === 'fill') {\n      return;\n    } // Where object-fit is supported and object-position isn't (Safari < 10)\n\n\n    if (!ofi.skipTest && // unless user wants to apply regardless of browser support\n    supportsObjectFit && // if browser already supports object-fit\n    !style['object-position'] // unless object-position is used\n    ) {\n        return;\n      }\n  } // keep a clone in memory while resetting the original to a blank\n\n\n  if (!ofi.img) {\n    ofi.img = new Image(el.width, el.height);\n    ofi.img.srcset = nativeGetAttribute.call(el, \"data-ofi-srcset\") || el.srcset;\n    ofi.img.src = nativeGetAttribute.call(el, \"data-ofi-src\") || el.src; // preserve for any future cloneNode calls\n    // https://github.com/bfred-it/object-fit-images/issues/53\n\n    nativeSetAttribute.call(el, \"data-ofi-src\", el.src);\n\n    if (el.srcset) {\n      nativeSetAttribute.call(el, \"data-ofi-srcset\", el.srcset);\n    }\n\n    setPlaceholder(el, el.naturalWidth || el.width, el.naturalHeight || el.height); // remove srcset because it overrides src\n\n    if (el.srcset) {\n      el.srcset = '';\n    }\n\n    try {\n      keepSrcUsable(el);\n    } catch (err) {\n      if (window.console) {\n        console.warn('https://bit.ly/ofi-old-browser');\n      }\n    }\n  }\n\n  polyfillCurrentSrc(ofi.img);\n  el.style.backgroundImage = \"url(\\\"\" + (ofi.img.currentSrc || ofi.img.src).replace(/\"/g, '\\\\\"') + \"\\\")\";\n  el.style.backgroundPosition = style['object-position'] || 'center';\n  el.style.backgroundRepeat = 'no-repeat';\n  el.style.backgroundOrigin = 'content-box';\n\n  if (/scale-down/.test(style['object-fit'])) {\n    onImageReady(ofi.img, function () {\n      if (ofi.img.naturalWidth > el.width || ofi.img.naturalHeight > el.height) {\n        el.style.backgroundSize = 'contain';\n      } else {\n        el.style.backgroundSize = 'auto';\n      }\n    });\n  } else {\n    el.style.backgroundSize = style['object-fit'].replace('none', 'auto').replace('fill', '100% 100%');\n  }\n\n  onImageReady(ofi.img, function (img) {\n    setPlaceholder(el, img.naturalWidth, img.naturalHeight);\n  });\n}\n\nfunction keepSrcUsable(el) {\n  var descriptors = {\n    get: function get(prop) {\n      return el[OFI].img[prop ? prop : 'src'];\n    },\n    set: function set(value, prop) {\n      el[OFI].img[prop ? prop : 'src'] = value;\n      nativeSetAttribute.call(el, \"data-ofi-\" + prop, value); // preserve for any future cloneNode\n\n      fixOne(el);\n      return value;\n    }\n  };\n  Object.defineProperty(el, 'src', descriptors);\n  Object.defineProperty(el, 'currentSrc', {\n    get: function get() {\n      return descriptors.get('currentSrc');\n    }\n  });\n  Object.defineProperty(el, 'srcset', {\n    get: function get() {\n      return descriptors.get('srcset');\n    },\n    set: function set(ss) {\n      return descriptors.set(ss, 'srcset');\n    }\n  });\n}\n\nfunction hijackAttributes() {\n  function getOfiImageMaybe(el, name) {\n    return el[OFI] && el[OFI].img && (name === 'src' || name === 'srcset') ? el[OFI].img : el;\n  }\n\n  if (!supportsObjectPosition) {\n    HTMLImageElement.prototype.getAttribute = function (name) {\n      return nativeGetAttribute.call(getOfiImageMaybe(this, name), name);\n    };\n\n    HTMLImageElement.prototype.setAttribute = function (name, value) {\n      return nativeSetAttribute.call(getOfiImageMaybe(this, name), name, String(value));\n    };\n  }\n}\n\nfunction fix(imgs, opts) {\n  var startAutoMode = !autoModeEnabled && !imgs;\n  opts = opts || {};\n  imgs = imgs || 'img';\n\n  if (supportsObjectPosition && !opts.skipTest || !supportsOFI) {\n    return false;\n  } // use imgs as a selector or just select all images\n\n\n  if (imgs === 'img') {\n    imgs = document.getElementsByTagName('img');\n  } else if (typeof imgs === 'string') {\n    imgs = document.querySelectorAll(imgs);\n  } else if (!('length' in imgs)) {\n    imgs = [imgs];\n  } // apply fix to all\n\n\n  for (var i = 0; i < imgs.length; i++) {\n    imgs[i][OFI] = imgs[i][OFI] || {\n      skipTest: opts.skipTest\n    };\n    fixOne(imgs[i]);\n  }\n\n  if (startAutoMode) {\n    document.body.addEventListener('load', function (e) {\n      if (e.target.tagName === 'IMG') {\n        fix(e.target, {\n          skipTest: opts.skipTest\n        });\n      }\n    }, true);\n    autoModeEnabled = true;\n    imgs = 'img'; // reset to a generic selector for watchMQ\n  } // if requested, watch media queries for object-fit change\n\n\n  if (opts.watchMQ) {\n    window.addEventListener('resize', fix.bind(null, imgs, {\n      skipTest: opts.skipTest\n    }));\n  }\n}\n\nfix.supportsObjectFit = supportsObjectFit;\nfix.supportsObjectPosition = supportsObjectPosition;\nhijackAttributes();\nmodule.exports = fix;"],"sourceRoot":""}